<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>connect</title>
</head>
<body>
<a onclick="binanceChain()">BinanceChain</a><br/>
<a onclick="stakeBinanceChain()">Stake BinanceChain</a>
<h5>Account BinanceChain: <span id="showBinanceChain"></span></h5>
<a onclick="metaMask()">MetaMask</a>
<h5>Account MetaMask: <span id="showMetaMask"></span></h5>


</body>
<script>
    let account = '';
    function binanceChain() {
        BinanceChain.request({ method: "eth_accounts" })
            .then(respose => {
                account = respose[0];
                console.log(respose)
            })
            .catch(err => {
                consollog('code' + err.code);
            }).finally(() => {
            document.getElementById('showBinanceChain').innerText = account;
        });


    }



    function metaMask() {
        ethereum.request({ method: 'eth_requestAccounts' })
            .then(respose => {
                account = respose[0];
            })
            .catch((err) => {
                if (err.code === 4001) {
                    // EIP-1193 userRejectedRequest error
                    // If this happens, the user rejected the connection request.
                    console.log('Please connect to MetaMask.');
                } else {
                    console.error(err);
                }
            }).finally(() => {
            document.getElementById('showMetaMask').innerText = account;
        });
    }

    function stakeBinanceChain() {
        BinanceChain.request({
                method: 'eth_sendTransaction',
                params: [
                    {
                        from: account,
                        to: '0xeF83510c47D48E2b707d4cF4982013336B96C78a',
                        gas: '0x76c0',
                        //phÃ­ giao dich
                        gasPrice: 100000000000000,//'0x0099e72a000'

                        value: 1000, // 2441406250 '0x00'2841269841269841400
                        data: '0xd46e8dd67c5d32be8d46e8dd67c5d32be8058bb8eb970870f072445675058bb8eb970870f072445675'
                    }
                ]
            })
            .then((result) => {
                console.log(result)
                // console.log(3397000000000000*price)
            })
            .catch((error) => {
                console.log(error)
            });
    }


</script>
</html>